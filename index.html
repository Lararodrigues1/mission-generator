<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
	<link rel="stylesheet" href="styles.css">
	<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
	<script src="script.js" defer></script>
	<title>Mission Generator</title>
</head>

<body>

	<div class="row">
		<div class="column column-commands">

			<b>Available commands:</b>

			<div id="commands" class="container">
			</div>

			<div style="display: flex;justify-content: center;">
				<input type="reset" value="Reset timeline" form="generator" accesskey="r">
				<input type="submit" value="Generate mission file" form="generator" accesskey="s">
			</div>

		</div>

		<div class="column column-timeline">

			<b>Mission timeline:</b>

			<form id="generator">

				<div id="timeline" class="container" style="background-color: #60d849;">
					Drag and drop commands here (from the list beside) to create a mission.
					<br>
					It is also possible to discard and re-order the commands.
					<br><br>

					<div class="draggable assign" draggable="true">
						assign
					</div>

					<div class="draggable arm" draggable="true">
						arm
					</div>

					<div class="draggable take-off" draggable="true">
						take off
						<input type="number" name="m" id="m" value="3" min="0" required>
						meters
					</div>

					<div class="draggable land" draggable="true">
						land
					</div>

				</div>

			</form>

		</div>
	</div>


	<!-- Popup -->
	<div id="popup"
		style="visibility: hidden;position: fixed;z-index: 1;left: 0;top: 0;width: 100vw;height: 100vh;overflow: hidden;background-color: rgba(0,0,0,0.7);">
		<!-- Map -->
		<div id="map" style="height: 80vh;width: 80vw;border-radius: .5rem;margin: 10vh auto;"></div>
	</div>

	<script>
		// Create Leaflet map
		var map = L.map('map');

		// Add Mapbox tiles layer
		L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}@2x?access_token={accessToken}', {
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
			id: 'mapbox/streets-v11',
			tileSize: 512,
			zoomOffset: -1,
			accessToken: 'pk.eyJ1IjoiYWdvcmFhdmVpcm8iLCJhIjoiY2trbmNoeXd5MXN2cTJudGRodzhjbjR6bSJ9.dvGHDz58mhv1i46hWJvEtQ',
		}).addTo(map);
	</script>

</body>

</html>